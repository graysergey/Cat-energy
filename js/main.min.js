"use strict";function _readOnlyError(e){throw new Error('"'+e+'" is read-only')}var toggleButton=document.querySelector(".toggle-menu"),menu=document.querySelector(".main-menu"),KEY_ENTER=13,toggleMenu=function(e){e.preventDefault(),e.keyCode===KEY_ENTER&&(menu.classList.toggle("main-menu--show"),toggleButton.classList.toggle("toggle-menu--close")),"click"===e.type&&(menu.classList.toggle("main-menu--show"),toggleButton.classList.toggle("toggle-menu--close"))};toggleButton.addEventListener("click",toggleMenu),toggleButton.addEventListener("keydown",toggleMenu);var slider=document.querySelector(".slider"),wrapperImage=slider.querySelector(".slider__before-wrapper"),barElement=slider.querySelector(".slider-control__progress-bar"),toggleElement=barElement.querySelector(".slider-control__toggle"),sliderWidth=slider.offsetWidth,barWidth=barElement.offsetWidth,toggleWidth=toggleElement.offsetWidth,LOCATION_TOGGLE_MIN_X=0,LOCATION_TOGGLE_MAX_X=barWidth,PERCENT=100,ONE_PERCENT_WIDTH_IMAGE=PERCENT/sliderWidth,MIN_WIDTH_IMG=(sliderWidth-barWidth)/2,TOGGLE_HALF_WIDTH=toggleWidth/2,KEY_ARROW_LEFT=37,KEY_ARROW_RIGHT=39;toggleElement.addEventListener("mousedown",function(e){e.preventDefault();var n=e.clientX,l=function(e){e.preventDefault();var t=n-e.clientX;n=e.clientX;var l=toggleElement.offsetLeft-t,o=LOCATION_TOGGLE_MIN_X,r=LOCATION_TOGGLE_MAX_X;l<o&&(_readOnlyError("newCoordsX"),l=o),r<l&&(_readOnlyError("newCoordsX"),l=r),toggleElement.style.left=l+"px",wrapperImage.style.width=MIN_WIDTH_IMG+l+"px"};slider.addEventListener("mousemove",l),slider.addEventListener("mouseup",function e(t){t.preventDefault(),slider.removeEventListener("mousemove",l),slider.removeEventListener("mouseup",e)})}),barElement.addEventListener("click",function(e){(e.srcElement||e.target).classList.contains("slider-control__toggle")||(toggleElement.style.left=e.offsetX+"px",wrapperImage.style.width=MIN_WIDTH_IMG+e.offsetX+"px")}),toggleElement.addEventListener("keydown",function(e){console.log(e),e.keyCode===KEY_ARROW_LEFT&&(e.preventDefault(),toggleElement.offsetLeft>TOGGLE_HALF_WIDTH&&(toggleElement.style.left=toggleElement.offsetLeft-TOGGLE_HALF_WIDTH+"px",wrapperImage.style.width=MIN_WIDTH_IMG+toggleElement.offsetLeft+TOGGLE_HALF_WIDTH-TOGGLE_HALF_WIDTH+"px")),e.keyCode===KEY_ARROW_RIGHT&&(e.preventDefault(),toggleElement.offsetLeft<LOCATION_TOGGLE_MAX_X-TOGGLE_HALF_WIDTH&&(toggleElement.style.left=toggleElement.offsetLeft+TOGGLE_HALF_WIDTH+"px",wrapperImage.style.width=MIN_WIDTH_IMG+toggleElement.offsetLeft-TOGGLE_HALF_WIDTH+TOGGLE_HALF_WIDTH+"px"))});var buttonBefore=slider.querySelector(".slider-control__btn--before"),buttonAfter=slider.querySelector(".slider-control__btn--after"),setBeforeOptions=function(e){e.keyCode===KEY_ENTER&&(e.preventDefault(),toggleElement.style.left=LOCATION_TOGGLE_MIN_X+"px",wrapperImage.style.width=MIN_WIDTH_IMG+"px"),"click"===e.type&&(e.preventDefault(),toggleElement.style.left=LOCATION_TOGGLE_MIN_X+"px",wrapperImage.style.width=MIN_WIDTH_IMG+"px")},setAfterOptions=function(e){e.keyCode===KEY_ENTER&&(e.preventDefault(),toggleElement.style.left=LOCATION_TOGGLE_MAX_X+"px",wrapperImage.style.width=MIN_WIDTH_IMG+LOCATION_TOGGLE_MAX_X+"px"),"click"===e.type&&(e.preventDefault(),toggleElement.style.left=LOCATION_TOGGLE_MAX_X+"px",wrapperImage.style.width=MIN_WIDTH_IMG+LOCATION_TOGGLE_MAX_X+"px")};buttonBefore.addEventListener("click",setBeforeOptions),buttonBefore.addEventListener("keydown",setBeforeOptions),buttonAfter.addEventListener("click",setAfterOptions),buttonAfter.addEventListener("keydown",setAfterOptions);